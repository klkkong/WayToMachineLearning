# kmeans用于图像压缩

## 环境
Windows7 + pycharm + anaconda3

## 文件清单
* kmeans_compress.py
* rabbit.jpg

## KMeans算法
首先指定k值，也就是要把数据点分成多少堆；在体系中随机指定k个点作为聚类中心，计算其他数据点与这些中心的距离，数据点离哪个堆最近，就将该数据点划分到堆中；划分好之后，计算每个堆中所有点的均值，作为新的聚类中心，然后再重复以上步骤。

### 数据集
将图片经过reshape后，变成了n行3列的数据。这就相当于是三维空间中有n个点

### 图像压缩算法
对于三维空间中的n个点，分成k堆。分好之后，所有点就只有一个label，即所属的堆的编号。原本一个点是有三个坐标，现在就只剩一个了，这就完成了图像的压缩。



## 代码说明
1. 用到的库有`skimage, sklearn.cluster, numpy`
2. 输入文件为图片，输出文件为压缩后的图片
3. `imread`函数返回的是`ndarray`，行和列分别表示图片的长和宽，即800*800；每个元素又是一个三维向量，分别表示该像素的RGB
4. `reshape`的意义是将图片拉直，转化为一维数组。由于是彩色图，每个像素点有三个颜色通道
5. `KMeans`函数：
* n_clusters 分成多少堆
* n_init 次数。在初始时，随机指定了k个点作为聚类中心。这个参数就是重复这个操作的次数，相当于做十次实验。原因是在kmeans中，初始值的选取对结果影响很大  
* max_iter 最大迭代次数。
6. np.asarray(a) 当a是ndarray时，这个函数返回对a数组的引用，并不会生成一个副本。可以节省内存


